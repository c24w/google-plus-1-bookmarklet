function insertPlusOne(a){po=document.createElement("div"),po.style.marginTop="5%",po.style.marginBottom="5%";var c=document.createElement("g:plusone");c.setAttribute("size","tall"),c.setAttribute("href",decodeURIComponent(a)),po.appendChild(c),b.appendChild(po),a=window.document.createElement("script"),a.src="https://apis.google.com/js/plusone.js",a.innerHTML="{lang: 'en-GB'}",document.head.appendChild(a)}function toggleHelp(a){if(h==0){var b=document.createElement("tr");t.appendChild(b);var c=document.createElement("td");c.innerHTML='<span class="hint" title="Enter the URL you want to +1">1<img src="ua.gif"></span>',b.appendChild(c),c=document.createElement("td"),c.innerHTML='<span class="hint" title="Click the button">2<img src="ua.gif"></span>',b.appendChild(c),b=document.createElement("span"),b.innerHTML+='<div class="hint" title="+1 your URL">3<img src="ua.gif"></div>',po.appendChild(b),a.style.cssText="font-weight:bold;color:#00F;",h=1}else b=t.getElementsByTagName("tr")[1],b.parentNode.removeChild(b),b=po.getElementsByTagName("span")[0],b.parentNode.removeChild(b),a.style.cssText="font-weight:normal;color:#666680;",h=0}function contact(){var a=document.createElement("div");a.style.cssText="z-index:999;width:100%;height:100%;cursor:wait;position:absolute;left:0;top:0;background:url('blank.gif');",a.title="Please wait, or click here to cancel",b.appendChild(a);var c=document.createElement("iframe");c.src="http://goo.gl/8ogIy",c.style.display="none",c.onload=a.onclick=function(){b.removeChild(a)},a.appendChild(c),b.appendChild(a)}function isValidUrl(a){return re=/(https?):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,re.test(decodeURIComponent(a))}function insertForm(){var a=document.createElement("form");a.style.cssText="width:40%;margin-left:auto;margin-right:auto;margin-top:5%;margin-bottom:5%;",t=document.createElement("table"),t.cellPadding="0",t.cellSpacing="0";var c=document.createElement("tr");c.oncontextmenu=function(){return document.getElementsByTagName("input")[0].focus(),!1},t.appendChild(c);var d=document.createElement("td");d.style.cssText="border:4px solid transparent;width:100%;",c.appendChild(d);var e=document.createElement("div");e.style.cssText="border:3px solid #DFE2F2;border-bottom:3px solid #D3D5E3;cursor:text",e.onclick=function(){document.getElementsByTagName("input")[0].focus()},d.appendChild(e);var f=document.createElement("div");f.style.cssText="border:2px solid #EBEEFF;background-color:#FCFCFC;",e.appendChild(f);var g=document.createElement("input"),h=document.location.protocol+"//"+document.location.hostname;g.onfocus=function(){d.style.borderColor="#E6E8F5",g.style.backgroundColor="#FFF",f.style.borderColor="transparent",g.value==h&&(g.value="")},g.onblur=function(){d.style.borderColor="transparent",g.style.backgroundColor="#FCFCFC",f.style.borderColor="#EBEEFF";if(g.value=="http://"||g.value=="")g.value=h},g.style.cssText="outline-style:none;border:0px solid transparent;background-color:#FCFCFC;font-family:'century gothic',sans-serif;height:100%;padding:0px;width:100%;height:100%",g.type="text",g.name="u",g.value=u?decodeURIComponent(u.substr(u.indexOf("?u=")+3)):h,f.appendChild(g),e=document.createElement("td"),e.style.cssText="border:4px solid transparent;",c.appendChild(e),c=document.createElement("input"),c.style.cssText="font-family:'century gothic',sans-serif;height:100%;",c.type="submit",c.value="get +1",e.appendChild(c),a.appendChild(t),b.appendChild(a)}var u=document.location.search,h=0,b,t,po;window.onload=function(){b=document.body.getElementsByTagName("div")[0];if(u){var a=u.substr(u.indexOf("?u=")+3);insertForm(),insertPlusOne(a),isValidUrl(a)||(a=decodeURIComponent(a),e=document.createElement("div"),e.style.cssText="color:#E01B1B;font-family:'century gothic',sans-serif;margin-top:5%;margin-bottom:5%;font-size:10pt;",a.indexOf("http")!=0&&(a.indexOf("ftp://")==0&&(a=a.replace("ftp://","")),e.innerHTML='<span style="font-weight:bold">Not working?</span><br>The +1 requires a protocol prefix&#8230;<br>I want to use:<a href="http://plus1.atspace.co.uk/?u=http://'+a+'" class="errorlink">http://</a><a href="http://plus1.atspace.co.uk/?u=https://'+a+'" class="errorlink">https://</a>'),b.appendChild(e))}else insertForm(),insertPlusOne("")};var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-24583930-3"]),_gaq.push(["_trackPageview"]),function(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}()